[
  {
    "type": "array",
    "description": "Custom business rules [{name, condition: {column, operator, value}, severity, action}]",
    "items": "object",
    "default": [],
    "example": [
      {
        "name": "high_value_check",
        "condition": {
          "column": "amount",
          "operator": "gt",
          "value": 10000
        },
        "severity": "high",
        "action": "Manual Review"
      },
      {
        "name": "active_user_check",
        "condition": {
          "column": "status",
          "operator": "eq",
          "value": "Active"
        },
        "severity": "medium",
        "action": "Verify Activity"
      }
    ],
    "show": true,
    "required": false,
    "name": "business_rules",
    "agent": "Stewardship Flagger",
    "tool": "Master My Data"
  },
  {
    "type": "array",
    "description": "List of cleaning rules to preview. Each rule specifies: {type, target_columns, description, ...}. Supported types: drop_nulls, impute_nulls, remove_outliers, drop_duplicates, drop_columns, convert_types",
    "default": [],
    "example": [
      {
        "type": "drop_nulls",
        "target_columns": ["email", "customer_id"],
        "description": "Drop rows with missing critical identifiers"
      },
      {
        "type": "impute_nulls",
        "target_columns": ["age"],
        "strategy": "mean",
        "description": "Impute missing age with mean"
      },
      {
        "type": "remove_outliers",
        "target_columns": ["salary"],
        "method": "iqr",
        "threshold": 1.5,
        "description": "Remove salary outliers using IQR"
      }
    ],
    "items": "object",
    "show": true,
    "required": false,
    "name": "preview_rules",
    "agent": "Cleanse Previewer",
    "tool": "Clean My Data"
  },
  {
    "type": "array",
    "description": "Columns to use for duplicate detection",
    "items": "string",
    "default": [],
    "example": ["email", "phone", "tax_id"],
    "show": true,
    "required": false,
    "name": "duplicate_key_columns",
    "agent": "Stewardship Flagger",
    "tool": "Master My Data"
  },
  {
    "type": "array",
    "description": "Column names containing email addresses (auto-detected if empty)",
    "default": [],
    "items": "string",
    "example": ["email", "work_email"],
    "show": true,
    "required": false,
    "name": "email_columns",
    "agent": "Duplicate Resolver",
    "tool": "Clean My Data"
  },
  {
    "type": "array",
    "description": "Columns to use as deduplication key (all columns if empty)",
    "default": [],
    "items": "string",
    "example": ["first_name", "last_name", "dob"],
    "show": true,
    "required": false,
    "name": "key_columns",
    "agent": "Duplicate Resolver",
    "tool": "Clean My Data"
  },
  {
    "type": "array",
    "description": "Columns to use for identifying related records",
    "default": [],
    "items": "string",
    "example": ["Email", "Phone"],
    "show": true,
    "required": true,
    "name": "match_key_columns",
    "agent": "Survivorship Resolver",
    "tool": "Master My Data"
  },
  {
    "type": "array",
    "description": "Columns to use for identifying related records",
    "default": [],
    "items": "string",
    "example": ["Email", "Phone"],
    "required": true,
    "show": true,
    "name": "match_key_columns",
    "agent": "Golden Record Builder",
    "tool": "Master My Data"
  },
  {
    "type": "array",
    "description": "Columns to exclude from standardization",
    "default": [],
    "items": "string",
    "example": ["id", "metadata"],
    "show": true,
    "required": false,
    "name": "preserve_columns",
    "agent": "Field Standardization",
    "tool": "Clean My Data"
  },
  {
    "type": "array",
    "description": "List of columns that must have values",
    "default": [],
    "items": "string",
    "example": ["customer_id", "email", "created_at"],
    "show": true,
    "required": false,
    "name": "required_columns",
    "agent": "Stewardship Flagger",
    "tool": "Master My Data"
  },
  {
    "type": "array",
    "description": "List of required field names",
    "default": [],
    "items": "string",
    "example": ["customer_id", "email", "created_at"],
    "show": true,
    "required": false,
    "name": "required_fields",
    "agent": "Quarantine Agent",
    "tool": "Clean My Data"
  },
  {
    "type": "array",
    "description": "Specific columns to standardize (all columns if empty)",
    "default": [],
    "items": "string",
    "example": ["first_name", "last_name", "city"],
    "show": true,
    "required": false,
    "name": "target_columns",
    "agent": "Field Standardization",
    "tool": "Clean My Data"
  },
  {
    "type": "array",
    "description": "List of columns that should have unique values",
    "default": [],
    "items": "string",
    "example": ["user_id", "email", "ssn", "order_id"],
    "show": true,
    "required": false,
    "name": "unique_columns",
    "agent": "Test Coverage Agent",
    "tool": "Profile My Data"
  },
  {
    "type": "object",
    "description": "Contract definition containing required_columns, optional_columns, column_types, column_mappings, value_constraints, uniqueness_constraints",
    "default": {},
    "example": {
      "required_columns": ["id", "name", "email"],
      "optional_columns": ["phone", "address"],
      "column_types": {
        "id": "integer",
        "name": "string",
        "email": "string",
        "phone": "string"
      },
      "value_constraints": {
        "email": {
          "pattern": "^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$"
        }
      },
      "uniqueness_constraints": ["id", "email"]
    },
    "show": true,
    "required": true,
    "name": "contract",
    "agent": "Contract Enforcer",
    "tool": "Master My Data"
  },
  {
    "type": "object",
    "description": "Custom column name mappings (raw_name -> standard_name)",
    "default": {},
    "example": {
      "CustomerID": "customer_id",
      "SourceSystem": "source_system",
      "FirstName": "first_name",
      "LastName": "last_name",
      "Email": "email"
    },
    "show": true,
    "required": false,
    "name": "custom_column_mappings",
    "agent": "Semantic Mapper",
    "tool": "Master My Data"
  },
  {
    "type": "object",
    "description": "Custom value mappings by column (column -> {raw_value -> standard_value})",
    "default": {},
    "example": {
      "Country": {
        "U.S.A": "USA",
        "United States": "USA",
        "England": "UK"
      },
      "State": {
        "N.Y.": "NY",
        "Calif.": "CA"
      }
    },
    "show": true,
    "required": false,
    "name": "custom_value_mappings",
    "agent": "Semantic Mapper",
    "tool": "Master My Data"
  },
  {
    "type": "object",
    "description": "Field-specific validation rules (column -> {pattern, min_length, allowed_values})",
    "default": {},
    "example": {
      "email": {
        "pattern": "^.+@.+$"
      },
      "age": {
        "min": 18
      }
    },
    "show": true,
    "required": false,
    "name": "field_validation_rules",
    "agent": "Survivorship Resolver",
    "tool": "Master My Data"
  },
  {
    "type": "object",
    "description": "Field-specific validation rules (column -> {pattern, min_length, allowed_values})",
    "default": {},
    "example": {
      "zip_code": {
        "pattern": "^\\d{5}(-\\d{4})?$"
      },
      "country_code": {
        "min_length": 2,
        "allowed_values": ["US", "CA", "UK"]
      }
    },
    "show": true,
    "required": false,
    "name": "field_validation_rules",
    "agent": "Stewardship Flagger",
    "tool": "Master My Data"
  },
  {
    "type": "object",
    "description": "Format constraints (column -> regex pattern)",
    "default": {},
    "example": {
      "email": "^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$",
      "phone": "^\\+?[1-9]\\d{1,14}$",
      "zip_code": "^\\d{5}(-\\d{4})?$"
    },
    "show": true,
    "required": false,
    "name": "format_constraints",
    "agent": "Quarantine Agent",
    "tool": "Clean My Data"
  },
  {
    "type": "object",
    "description": "Format constraints for columns (column -> pattern or {pattern, description})",
    "default": {},
    "example": {
      "email": {
        "pattern": "^[^@]+@[^@]+\\.[^@]+$",
        "description": "Valid email address"
      },
      "sku": "^[A-Z]{3}-\\d{4}$",
      "phone": "^\\+?[1-9]\\d{1,14}$"
    },
    "show": true,
    "required": false,
    "name": "format_tests",
    "agent": "Test Coverage Agent",
    "tool": "Profile My Data"
  },
  {
    "type": "object",
    "description": "Configuration for fuzzy matching (columns -> {type, weight})",
    "default": {},
    "example": {
      "name": {
        "type": "name",
        "weight": 2.0
      },
      "address": {
        "type": "address",
        "weight": 1.0
      },
      "email": {
        "type": "email",
        "weight": 3.0
      }
    },
    "show": true,
    "required": false,
    "name": "fuzzy_config",
    "agent": "Golden Record Builder",
    "tool": "Master My Data"
  },
  {
    "type": "object",
    "description": "Field-specific outlier thresholds (field_type or column -> {min, max})",
    "default": {
      "age": {
        "min": 0,
        "max": 120
      },
      "percentage": {
        "min": 0,
        "max": 100
      }
    },
    "example": {
      "transaction_amount": {
        "min": 0,
        "max": 10000
      },
      "age": {
        "min": 0,
        "max": 120
      }
    },
    "show": true,
    "required": false,
    "name": "outlier_thresholds",
    "agent": "Stewardship Flagger",
    "tool": "Master My Data"
  },
  {
    "type": "object",
    "description": "Numeric range constraints (column -> {min, max})",
    "default": {},
    "example": {
      "age": {
        "min": 18,
        "max": 120
      },
      "salary": {
        "min": 0,
        "max": 1000000
      },
      "score": {
        "min": 0,
        "max": 100
      }
    },
    "show": true,
    "required": false,
    "name": "range_constraints",
    "agent": "Quarantine Agent",
    "tool": "Clean My Data"
  },
  {
    "type": "object",
    "description": "Range constraints for numeric columns (column -> {min, max})",
    "default": {},
    "example": {
      "age": {
        "min": 0,
        "max": 120
      },
      "rating": {
        "min": 1,
        "max": 5
      },
      "percentage": {
        "min": 0,
        "max": 100
      }
    },
    "show": true,
    "required": false,
    "name": "range_tests",
    "agent": "Test Coverage Agent",
    "tool": "Profile My Data"
  },
  {
    "type": "object",
    "description": "Dictionary of reference tables for FK detection (table_name -> {column: [values]})",
    "default": {},
    "example": {
      "customers": {
        "customer_id": ["C001", "C002", "C003"]
      },
      "products": {
        "product_id": ["P001", "P002", "P003"]
      },
      "regions": {
        "region_code": ["NA", "EMEA", "APAC"]
      }
    },
    "show": true,
    "required": false,
    "name": "reference_tables",
    "agent": "Key Identifier",
    "tool": "Master My Data"
  },
  {
    "type": "object",
    "description": "Source -> priority mapping (lower = higher priority)",
    "default": {},
    "example": {
      "CRM": 1,
      "ERP": 2,
      "Web": 3,
      "Legacy": 4
    },
    "show": true,
    "required": false,
    "name": "source_priority",
    "agent": "Survivorship Resolver",
    "tool": "Master My Data"
  },
  {
    "type": "object",
    "description": "Source -> priority mapping for source_priority rule",
    "default": {},
    "example": {
      "Salesforce": 1,
      "HubSpot": 2,
      "Manual": 3
    },
    "show": true,
    "required": false,
    "name": "source_priority",
    "agent": "Golden Record Builder",
    "tool": "Master My Data"
  },
  {
    "type": "object",
    "description": "Column -> rule mapping (freshness, quality_score, completeness, source_priority, frequency, richness, validation, min, max, first, last)",
    "default": {},
    "example": {
      "email": "most_recent",
      "phone": "most_frequent",
      "address": "source_priority",
      "name": "most_complete",
      "score": "max"
    },
    "show": true,
    "required": false,
    "name": "survivorship_rules",
    "agent": "Survivorship Resolver",
    "tool": "Master My Data"
  },
  {
    "type": "object",
    "description": "Column -> rule mapping (most_complete, most_recent, source_priority, most_frequent, min, max, first, last)",
    "default": {},
    "example": {
      "name": "most_complete",
      "updated_at": "most_recent",
      "status": "source_priority",
      "category": "most_frequent"
    },
    "show": true,
    "required": false,
    "name": "survivorship_rules",
    "agent": "Golden Record Builder",
    "tool": "Master My Data"
  },
  {
    "type": "object",
    "description": "Column-specific synonym mappings (column -> {synonym -> standard_value}). Example: {'address': {'St.': 'Street', 'Ave.': 'Avenue', 'Rd.': 'Road'}}",
    "default": {},
    "example": {
      "country": {
        "USA": "United States",
        "US": "United States",
        "UK": "United Kingdom"
      },
      "status": {
        "Y": "Active",
        "N": "Inactive",
        "1": "Active",
        "0": "Inactive"
      }
    },
    "show": true,
    "required": false,
    "name": "synonym_mappings",
    "agent": "Field Standardization",
    "tool": "Clean My Data"
  },
  {
    "type": "object",
    "description": "Column-specific unit conversion mappings (column -> {unit_pattern -> {factor: number, target_unit: string}}). Example: {'height': {'ft': {'factor': 12, 'target_unit': 'inches'}}}",
    "default": {},
    "example": {
      "weight": {
        "kg": {
          "factor": 2.20462,
          "target_unit": "lbs"
        },
        "g": {
          "factor": 0.00220462,
          "target_unit": "lbs"
        }
      },
      "distance": {
        "km": {
          "factor": 0.621371,
          "target_unit": "miles"
        },
        "m": {
          "factor": 0.000621371,
          "target_unit": "miles"
        }
      }
    },
    "show": true,
    "required": false,
    "name": "unit_mappings",
    "agent": "Field Standardization",
    "tool": "Clean My Data"
  },
  {
    "type": "string",
    "description": "Case normalization strategy to apply",
    "default": "lowercase",
    "allowed": ["lowercase", "uppercase", "titlecase", "none"],
    "example": "lowercase",
    "show": true,
    "required": false,
    "name": "case_strategy",
    "agent": "Field Standardization",
    "tool": "Clean My Data"
  },
  {
    "type": "string",
    "description": "Outlier detection method",
    "default": "iqr",
    "allowed": ["z_score", "iqr", "percentile"],
    "example": "iqr",
    "show": true,
    "required": false,
    "name": "detection_method",
    "agent": "Outlier Remover",
    "tool": "Clean My Data"
  },
  {
    "type": "string",
    "description": "Global strategy for handling nulls",
    "default": "column_specific",
    "allowed": ["drop_rows", "column_specific"],
    "example": "column_specific",
    "show": true,
    "required": false,
    "name": "global_strategy",
    "agent": "Null Handler",
    "tool": "Clean My Data"
  },
  {
    "type": "string",
    "description": "Strategy for handling duplicates",
    "default": "remove_duplicates",
    "allowed": ["remove_duplicates", "merge_smart"],
    "example": "merge_smart",
    "show": true,
    "required": false,
    "name": "merge_strategy",
    "agent": "Duplicate Resolver",
    "tool": "Clean My Data"
  },
  {
    "type": "string",
    "description": "Strategy for handling detected outliers",
    "default": "remove",
    "allowed": ["remove", "impute_mean", "impute_median"],
    "example": "impute_median",
    "show": true,
    "required": false,
    "name": "removal_strategy",
    "agent": "Outlier Remover",
    "tool": "Clean My Data"
  },
  {
    "type": "string",
    "description": "Column identifying the record source",
    "default": null,
    "example": "SourceSystem",
    "show": true,
    "required": true,
    "name": "source_column",
    "agent": "Survivorship Resolver",
    "tool": "Master My Data"
  },
  {
    "type": "string",
    "description": "Column identifying the record source",
    "default": null,
    "example": "SourceSystem",
    "required": true,
    "show": true,
    "name": "source_column",
    "agent": "Golden Record Builder",
    "tool": "Master My Data"
  },
  {
    "type": "string",
    "description": "Target format for date standardization (e.g., %Y-%m-%d)",
    "default": "%Y-%m-%d",
    "example": "%Y-%m-%d",
    "show": true,
    "required": false,
    "name": "target_date_format",
    "agent": "Field Standardization",
    "tool": "Clean My Data"
  },
  {
    "type": "string",
    "description": "Column for freshness-based resolution",
    "default": null,
    "example": "updated_at",
    "show": true,
    "required": false,
    "name": "timestamp_column",
    "agent": "Survivorship Resolver",
    "tool": "Master My Data"
  },
  {
    "type": "string",
    "description": "Column for recency-based survivorship rules",
    "default": null,
    "example": "updated_at",
    "show": true,
    "required": false,
    "name": "timestamp_column",
    "agent": "Golden Record Builder",
    "tool": "Master My Data"
  }
]
