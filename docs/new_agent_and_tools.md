# New Agent and Tools Documentation

## Scope of Work - User Panel

## Agent 1: Customer Segmentation Agent

**Sr No.:** 1  
**Agent Name:** Customer Segmentation Agent  
**Description:** A dynamic segmentation engine that classifies customers into value based or behavior based segments using decile logic or RFM modeling, enabling targeted strategy and prioritization.

**Agent Input:**

- Transaction level customer dataset (CSV/Excel/API)
- Selected metric (Revenue, Gross Profit, Margin)
- Timeframe (YTD, Last 12 Months, Custom)
- Mode selection (Value or RFM)
- Segment count (2–10)
- RFM weights (Recency, Frequency, Monetary)

**Agent Output:**

- Segmented customer table with ranks
- Segment labels generated by agent
- Aggregate contribution metrics per segment
- Segment health indicators

**Components (UI):**

- Inputs:
  - a. Mode Toggle (Current Value / RFM)
  - b. Timeframe Dropdown
  - c. Metric Dropdown
  - d. Segment Count Slider (2–10)
  - e. RFM Weight Sliders (conditional)
- Outputs:
  - f. Ranked Bar Chart (color coded)
  - g. Donut Chart (cumulative contribution)
  - h. Segment Summary Panel

**Functionalities:**

- Automatically ranks customers based on selected logic
- Applies weighted RFM scoring when enabled
- Divides ranked customers into equal sized segments
- Generates human readable segment names (e.g., "High Value, Low Frequency")
- Calculates contribution share per segment
- Highlights top and bottom performing cohorts

**Backend:**

- Python Pandas based computation engine
- RFM scoring module with weight validation (sum = 100%)
- Rule based segment naming engine
- Aggregation service for contribution metrics
- JSON response formatter for charts and tables

**Example Workflow:**
You upload your sales data:

- Customer ID
- Order dates
- Revenue per order

You choose:

- Mode: RFM
- Timeframe: Last 12 months
- Segments: 5

The agent does the following automatically:

1. Calculates:
   - Recency: How recently they bought
   - Frequency: How often they buy
   - Monetary: How much they spend
2. Scores each customer
3. Groups them into segments like:
   - "Champions"
   - "Loyal Regulars"
   - "At Risk"
   - "Low Value"

---

## Agent 2: Market Basket & Sequence Agent

**Sr No.:** 2  
**Agent Name:** Market Basket & Sequence Agent  
**Description:** An association and sequence mining agent that identifies product co-purchase patterns and next purchase likelihoods to enable bundling, promotions, and intent prediction.

**Agent Input:**

- Transaction level purchase data
- Product identifiers
- Transaction timestamps
- Industry context (optional)
- Threshold parameters (Support, Confidence, Lift, Gap days)

**Agent Output:**

- Ranked association rules table
- Product relationship graph
- AI generated commercial recommendations
- Predicted next purchase intent

**Components (UI):**

- Inputs:
  - a. Industry Selector
  - b. Mode Switch (Within Basket / Cross Transaction)
  - c. Support Slider
  - d. Confidence Slider
  - e. Lift Slider
  - f. Gap Tolerance Slider (days)
- Outputs:
  - g. Ranked Metrics Table
  - h. Node Flow Graph (sequence mode)
  - i. Recommendation Panel

**Functionalities:**

- Detects frequent itemsets using association rules
- Mines purchase sequences across time windows
- Calculates Support, Confidence and Lift metrics
- Generates textual recommendations based on metric thresholds
- Predicts next best action or intent (e.g., "Fence construction")
- Explains metrics contextually for business users

**Backend:**

- Python mlxtend library (Apriori / FP Growth)
- Sequential Pattern Mining (GSP / SPADE)
- Recommendation rules engine based on Lift and Confidence thresholds
- Graph data formatter for visualization layer

**Example Workflow:**
Imagine a hardware store. You notice:

1. People buy paint
2. People buy brushes
3. But you do not know:
   - a. Which products go together naturally
   - b. What product comes next after a purchase

Within-Basket Mode

- Question it answers: "What is commonly bought in the same order?"
- Example Agent finds: Paint + Roller → Confidence 85 percent, Lift 4.2
- Meaning: 85 percent of people who buy paint also buy rollers
- Lift above 3 means this is a strong relationship

Cross-Transaction Mode

- Question it answers: "What do customers buy next, not in the same order?"
- Example Agent finds: Buy lumber → Next purchase within 14 days → Nails + Stain
- The agent then explains: "Likely intent: Building a fence"

---

## Agent 3: Experimental Design Agent

**Sr No.:** 3  
**Agent Name:** Experimental Design Agent  
**Description:** A statistical planning agent that calculates required sample sizes and power analysis for A/B testing and experimental design.

**Agent Input:**

- Baseline conversion or response rate
- Desired effect size
- Significance level
- Statistical power requirement

**Agent Output:**

- Required control group size
- Required test group size
- Power analysis results
- Sample size recommendations

**Components (UI):**

- Inputs:
  - a. Significance Level Dropdown
  - b. Effect Size Input
  - c. Power Requirement Input
  - d. Baseline Rate Input
- Outputs:
  - e. Sample Size Calculator Results
  - f. Power Analysis Chart
  - g. Test Duration Estimator

**Functionalities:**

- Performs power analysis for two-tailed hypothesis
- Calculates minimum detectable effect
- Recommends optimal sample allocation
- Provides confidence interval estimates

**Backend:**

- Python statsmodels power analysis implementation
- Statistical calculation engine
- Sample size optimization algorithms
- Confidence interval computation

**Example Workflow:**
A marketing team wants to test:

- New homepage design vs. current design
- Baseline conversion rate: 3.2%
- Desired lift: 15%
- Significance level: 95%
- Power: 80%

The agent calculates:

- Required sample size per variant: 15,800 users
- Estimated test duration: 4-6 weeks
- Minimum detectable effect: 12%
